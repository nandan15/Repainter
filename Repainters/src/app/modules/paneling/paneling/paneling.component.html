<div class="main-container">
  <div class="form-card">
    <div class="header">
      <h2 class="title">E. Paneling</h2>
    </div>

    <div class="add-window-btn">
      <button type="button" class="action-button add-btn" (click)="addWall()">
        <span class="button-text">Add New Wall</span>
      </button>
    </div>

    <form [formGroup]="panelingForm">
      <div class="walls-container" formArrayName="walls">
        <div *ngFor="let wall of wallsArray.controls; let i = index"
             [formGroupName]="i"
             class="wall-card">
          <div class="wall-header">
            <span class="wall-number">Wall {{i + 1}}</span>
            <button type="button"
                    class="action-button remove-btn"
                    (click)="removeWall(i)"
                    *ngIf="wallsArray.length > 1">
              <span class="btn btn-warning">Remove</span>
            </button>
          </div>

         <!-- Replace the existing form-grid div in your template with this updated version -->
<div class="form-grid">
  <div class="form-group">
    <label class="form-label">Type</label>
    <div class="input-wrapper select-wrapper">
      <select formControlName="type" (change)="onTypeChange(i, $event)">
        <option value="">Select Type</option>
        <option *ngFor="let type of Types" [value]="type.name">
          {{type.name}}
        </option>
      </select>
    </div>
  </div>
  
  <div class="form-group" style="width: 300px;" *ngIf="isTypeSelected(wall, 'Cappuccino') || isTypeSelected(wall, 'Cubano') || isTypeSelected(wall, 'Latte')">
    <label class="form-label">Paneling Type</label>
    <div class="input-wrapper select-wrapper">
      <select formControlName="panelingType">
        <option *ngFor="let option of getPanelingOptions(wall)" [value]="option.name">
          {{option.name}}
        </option>
      </select>
    </div>
  </div>

  <div class="form-group" style="width: 300px;" *ngIf="shouldShowPaintType(wall)">
    <label class="form-label">Paint Type</label>
    <div class="input-wrapper select-wrapper">
      <select formControlName="paintingType">
        <option *ngFor="let paint of paintTypes" [value]="paint.name">
          {{paint.name}}
        </option>
      </select>
    </div>
  </div>

  <div class="form-group" style="width: 300px;" *ngIf="shouldShowTextureType(wall)">
    <label class="form-label">Texture Type</label>
    <div class="input-wrapper select-wrapper">
      <select formControlName="textureType">
        <option *ngFor="let texture of textureTypes" [value]="texture.name">
          {{texture.name}}
        </option>
      </select>
    </div>
  </div>

  <div class="form-group" style="width: 300px;" *ngIf="isTypeSelected(wall, 'Latte')">
    <label class="form-label">Wallpaper Type</label>
    <div class="input-wrapper">
      <input type="text" formControlName="wallpaperType" placeholder="WallPaper">
    </div>
  </div>

  <div class="form-group">
    <label class="form-label">Price</label>
    <div class="input-wrapper">
      <input type="number" formControlName="price" placeholder="Price" readonly>
    </div>
  </div>
</div>

          <div class="cove" style="display: flex;">  
            <label class="form-label">Lighting</label>
            <div class="form-group" style="margin-top: 20px;">
              <mat-radio-group formControlName="lighting" (change)="updateLightingPrice(i)">
                <mat-radio-button value="2Side">2 Side Cove Light</mat-radio-button>
                <mat-radio-button value="1Side">1 Side Cove Light</mat-radio-button>
              </mat-radio-group>
            </div>

            <div class="form-group" style="margin-left: 40px;">
              <label class="form-label">Lighting Price</label> 
              <div class="input-wrapper">
                <input type="number"
                       formControlName="lightingPrice" 
                       placeholder="Lighting Price" readonly>
              </div>
            </div>
          </div>

          <div class="form-group full-width">
            <label class="form-label">Description</label>
            <div class="input-wrapper">
              <textarea 
                formControlName="description"
                rows="4"
                placeholder="Description"
                class="description-textarea" readonly></textarea>
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">Remarks</label>
            <div class="input-wrapper">
              <input type="text"
                     formControlName="remarks"
                     placeholder="Enter Remarks">
            </div>
          </div>
        </div>
      </div>

      <!-- Total Section -->
      <div class="total-section">
        <div class="total-content">
          <span class="total-label">Section Total Paneling D</span>
          <div class="total-input-wrapper">
            <input type="number"
                   formControlName="sectionTotal"
                   placeholder="Total">
          </div>
        </div>
      </div>
    </form>

    <!-- Confirm Section -->
    <div class="confirm-section">
      <button class="confirm-btn" (click)="OnConfirmPaneling()">
        Confirm Texture Painting
      </button>
    </div>
  </div>
</div>