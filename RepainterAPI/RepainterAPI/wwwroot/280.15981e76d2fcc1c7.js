"use strict";(self.webpackChunkRepainters=self.webpackChunkRepainters||[]).push([[280],{4280:(y,f,a)=>{a.r(f),a.d(f,{DoorGrillsModule:()=>j});var v=a(177),p=a(33),u=a(7705);const M=[{path:"",component:(()=>{class c{static{this.\u0275fac=function(_){return new(_||c)}}static{this.\u0275cmp=u.VBU({type:c,selectors:[["app-view"]],decls:1,vars:0,template:function(_,w){1&_&&u.nrm(0,"router-outlet")},dependencies:[p.n3]})}}return c})(),children:[{path:"door_grills",component:a(3620).j}]}];let g=(()=>{class c{static{this.\u0275fac=function(_){return new(_||c)}}static{this.\u0275mod=u.$C({type:c})}static{this.\u0275inj=u.G2t({imports:[p.iI.forChild(M),p.iI]})}}return c})();var m=a(9417);let j=(()=>{class c{static{this.\u0275fac=function(_){return new(_||c)}}static{this.\u0275mod=u.$C({type:c})}static{this.\u0275inj=u.G2t({imports:[v.MD,g,m.X1,m.YN]})}}return c})()},3620:(y,f,a)=>{a.d(f,{j:()=>S});var v=a(1413),p=a(6977);class u{constructor(){this.mainDoors=[],this.internalDoors=[],this.windowGrills=[],this.balconyGrills=[]}}var t=a(7705),x=a(33),M=a(4412),g=a(8141),m=a(9437),j=a(8032),c=a.n(j),F=a(6813),D=a(1626);let _=(()=>{class l{constructor(r){this.httpClient=r,this.baseUrl=F.c.backend.baseURL,this.door_grillMethod=`${this.baseUrl}v1/door_grill`}addDoor_Grill(r){return this.httpClient.post(`${this.door_grillMethod}/create`,r)}listDoor_Grill(r=""){return this.httpClient.get(`${this.door_grillMethod}${r}`)}updateDoor_Grill(r){return this.httpClient.put(`${this.door_grillMethod}/update/${r.door_GrillId}`,r)}deleteDoor_Grill(r){return this.httpClient.delete(`${this.door_grillMethod}/delete/${r}`)}getDoor_GrillByCustomerId(r){return this.httpClient.get(`${this.door_grillMethod}/customer/${r}`)}static{this.\u0275fac=function(e){return new(e||l)(t.KVO(D.Qq))}}static{this.\u0275prov=t.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();var w=a(5794);let I=(()=>{class l{get door_grill(){return this._door_grill.asObservable()}constructor(r,e){this.doorGrillService=r,this.toaster=e,this._door_grill=new M.t([]),this.door_grillList={door_grill:[]}}addDoor_Grill(r){return this.doorGrillService.addDoor_Grill(r).pipe((0,g.M)({next:e=>{this.toaster.success("Door Grill Confirmed Successfully","Confirmation"),c().fire({icon:"success",title:"Success!",text:"Door Grill data saved successfully",confirmButtonText:"OK"})},error:e=>{this.toaster.error("Failed to add Door Grill","Error"),console.error("Error adding door grill:",e),c().fire({icon:"error",title:"Error!",text:"Failed to save Door Grill data.",confirmButtonText:"OK"})}}))}listDoor_Grill(){this.doorGrillService.listDoor_Grill().subscribe(r=>{this.door_grillList.door_grill=r,this._door_grill.next([...this.door_grillList.door_grill])},r=>{this.toaster.error("Failed to load Door Grills","Error")})}updateDoor_Grill(r){return this.doorGrillService.updateDoor_Grill(r).pipe((0,g.M)(e=>{r.lastModifiedOn=new Date;const o=this.door_grillList.door_grill.findIndex(i=>i.door_GrillId===r.door_GrillId);-1!==o&&(this.door_grillList.door_grill[o]=r),this._door_grill.next([...this.door_grillList.door_grill]),this.toaster.success("Door Grill Updated Successfully","Confirmation")}),(0,m.W)(e=>{throw this.toaster.error("Failed to update Door Grill","Error"),console.error("Error updating door grill:",e),e}))}getDoor_GrillByCustomerId(r,e){return this.doorGrillService.getDoor_GrillByCustomerId(r).pipe((0,g.M)(o=>{}),(0,m.W)(o=>{throw this.toaster.error("Failed to load Door Grill data","Error"),console.error("Error loading door grill data:",o),o}))}static{this.\u0275fac=function(e){return new(e||l)(t.KVO(_),t.KVO(w.tw))}}static{this.\u0275prov=t.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();var k=a(177),G=a(9417);function T(l,d){if(1&l){const r=t.RV6();t.j41(0,"div",15)(1,"div",9)(2,"label",10),t.EFF(3,"Width in Ft"),t.k0s(),t.j41(4,"input",16),t.bIt("ngModelChange",function(o){const n=t.eBV(r).$implicit;return t.Njj(n.length=o)})("input",function(o){const n=t.eBV(r).index,s=t.XpG(2);return t.Njj(s.updatePrice(o,n,"mainDoor"))}),t.k0s()(),t.j41(5,"div",9)(6,"label",10),t.EFF(7,"Height in Ft"),t.k0s(),t.j41(8,"input",17),t.bIt("ngModelChange",function(o){const n=t.eBV(r).$implicit;return t.Njj(n.height=o)})("input",function(o){const n=t.eBV(r).index,s=t.XpG(2);return t.Njj(s.updatePrice(o,n,"mainDoor"))}),t.k0s()(),t.j41(9,"div",9)(10,"label",10),t.EFF(11,"Number of Doors"),t.k0s(),t.j41(12,"input",18),t.bIt("ngModelChange",function(o){const n=t.eBV(r).$implicit;return t.Njj(n.numberOfDoors=o)})("input",function(o){const n=t.eBV(r).index,s=t.XpG(2);return t.Njj(s.updatePrice(o,n,"mainDoor"))}),t.k0s()(),t.j41(13,"div",9)(14,"label",10),t.EFF(15,"Surface"),t.k0s(),t.j41(16,"div",19)(17,"label")(18,"input",20),t.bIt("ngModelChange",function(o){const n=t.eBV(r).$implicit;return t.Njj(n.surface=o)})("change",function(o){const n=t.eBV(r).index,s=t.XpG(2);return t.Njj(s.updatePrice(o,n,"mainDoor"))}),t.k0s(),t.EFF(19," 1 "),t.k0s(),t.j41(20,"label")(21,"input",21),t.bIt("ngModelChange",function(o){const n=t.eBV(r).$implicit;return t.Njj(n.surface=o)})("change",function(o){const n=t.eBV(r).index,s=t.XpG(2);return t.Njj(s.updatePrice(o,n,"mainDoor"))}),t.k0s(),t.EFF(22," 2 "),t.k0s()()(),t.j41(23,"div",9)(24,"label",10),t.EFF(25,"Price"),t.k0s(),t.nrm(26,"input",22),t.k0s(),t.j41(27,"div",9)(28,"label",10),t.EFF(29,"Remarks"),t.k0s(),t.j41(30,"input",23),t.bIt("ngModelChange",function(o){const n=t.eBV(r).$implicit;return t.Njj(n.remarks=o)}),t.k0s()(),t.j41(31,"button",24),t.bIt("click",function(){const i=t.eBV(r).index,n=t.XpG(2);return t.Njj(n.removeMainDoor(i))}),t.EFF(32,"Remove"),t.k0s()()}if(2&l){const r=d.$implicit,e=d.index;t.R7$(4),t.Y8G("ngModel",r.length),t.R7$(4),t.Y8G("ngModel",r.height),t.R7$(4),t.Y8G("ngModel",r.numberOfDoors),t.R7$(6),t.Mz_("name","surface",e,""),t.Y8G("ngModel",r.surface),t.R7$(3),t.Mz_("name","surface",e,""),t.Y8G("ngModel",r.surface),t.R7$(5),t.Y8G("value",r.price),t.R7$(4),t.Y8G("ngModel",r.remarks)}}function P(l,d){if(1&l&&(t.j41(0,"div",13),t.DNE(1,T,33,9,"div",14),t.k0s()),2&l){const r=t.XpG();t.R7$(1),t.Y8G("ngForOf",r.currentDoor_Grill.mainDoors)}}function $(l,d){if(1&l){const r=t.RV6();t.j41(0,"div",15)(1,"div",9)(2,"label",10),t.EFF(3,"Width in Ft"),t.k0s(),t.j41(4,"input",16),t.bIt("ngModelChange",function(o){const n=t.eBV(r).$implicit;return t.Njj(n.length=o)})("input",function(o){const n=t.eBV(r).index,s=t.XpG(2);return t.Njj(s.updatePrice(o,n,"internalDoor"))}),t.k0s()(),t.j41(5,"div",9)(6,"label",10),t.EFF(7,"Height in Ft"),t.k0s(),t.j41(8,"input",17),t.bIt("ngModelChange",function(o){const n=t.eBV(r).$implicit;return t.Njj(n.height=o)})("input",function(o){const n=t.eBV(r).index,s=t.XpG(2);return t.Njj(s.updatePrice(o,n,"internalDoor"))}),t.k0s()(),t.j41(9,"div",9)(10,"label",10),t.EFF(11,"Number of Doors"),t.k0s(),t.j41(12,"input",18),t.bIt("ngModelChange",function(o){const n=t.eBV(r).$implicit;return t.Njj(n.numberOfDoors=o)})("input",function(o){const n=t.eBV(r).index,s=t.XpG(2);return t.Njj(s.updatePrice(o,n,"internalDoor"))}),t.k0s()(),t.j41(13,"div",9)(14,"label",10),t.EFF(15,"Surface"),t.k0s(),t.j41(16,"div",19)(17,"label")(18,"input",20),t.bIt("ngModelChange",function(o){const n=t.eBV(r).$implicit;return t.Njj(n.surface=o)})("change",function(o){const n=t.eBV(r).index,s=t.XpG(2);return t.Njj(s.updatePrice(o,n,"internalDoor"))}),t.k0s(),t.EFF(19," 1 "),t.k0s(),t.j41(20,"label")(21,"input",21),t.bIt("ngModelChange",function(o){const n=t.eBV(r).$implicit;return t.Njj(n.surface=o)})("change",function(o){const n=t.eBV(r).index,s=t.XpG(2);return t.Njj(s.updatePrice(o,n,"internalDoor"))}),t.k0s(),t.EFF(22," 2 "),t.k0s()()(),t.j41(23,"div",9)(24,"label",10),t.EFF(25,"Price"),t.k0s(),t.nrm(26,"input",22),t.k0s(),t.j41(27,"div",9)(28,"label",10),t.EFF(29,"Remarks"),t.k0s(),t.j41(30,"input",23),t.bIt("ngModelChange",function(o){const n=t.eBV(r).$implicit;return t.Njj(n.remarks=o)}),t.k0s()(),t.j41(31,"button",24),t.bIt("click",function(){const i=t.eBV(r).index,n=t.XpG(2);return t.Njj(n.removeInternalDoor(i))}),t.EFF(32,"Remove"),t.k0s()()}if(2&l){const r=d.$implicit,e=d.index;t.R7$(4),t.Y8G("ngModel",r.length),t.R7$(4),t.Y8G("ngModel",r.height),t.R7$(4),t.Y8G("ngModel",r.numberOfDoors),t.R7$(6),t.Mz_("name","surface-internal",e,""),t.Y8G("ngModel",r.surface),t.R7$(3),t.Mz_("name","surface-internal",e,""),t.Y8G("ngModel",r.surface),t.R7$(5),t.Y8G("value",r.price),t.R7$(4),t.Y8G("ngModel",r.remarks)}}function O(l,d){if(1&l&&(t.j41(0,"div",25),t.DNE(1,$,33,9,"div",14),t.k0s()),2&l){const r=t.XpG();t.R7$(1),t.Y8G("ngForOf",r.currentDoor_Grill.internalDoors)}}function E(l,d){if(1&l){const r=t.RV6();t.j41(0,"div",15)(1,"div",9)(2,"label",10),t.EFF(3,"Length"),t.k0s(),t.j41(4,"input",27),t.bIt("ngModelChange",function(o){const n=t.eBV(r).$implicit;return t.Njj(n.length=o)})("input",function(o){const n=t.eBV(r).index,s=t.XpG(2);return t.Njj(s.calculateWindowGrill(o,n))}),t.k0s()(),t.j41(5,"div",9)(6,"label",10),t.EFF(7,"Height"),t.k0s(),t.j41(8,"input",28),t.bIt("ngModelChange",function(o){const n=t.eBV(r).$implicit;return t.Njj(n.height=o)})("input",function(o){const n=t.eBV(r).index,s=t.XpG(2);return t.Njj(s.calculateWindowGrill(o,n))}),t.k0s()(),t.j41(9,"div",9)(10,"label",10),t.EFF(11,"Price"),t.k0s(),t.j41(12,"input",29),t.bIt("ngModelChange",function(o){const n=t.eBV(r).$implicit;return t.Njj(n.price=o)}),t.k0s()(),t.j41(13,"div",9)(14,"label",10),t.EFF(15,"Remarks"),t.k0s(),t.j41(16,"input",23),t.bIt("ngModelChange",function(o){const n=t.eBV(r).$implicit;return t.Njj(n.remarks=o)}),t.k0s()(),t.j41(17,"button",24),t.bIt("click",function(){const i=t.eBV(r).index,n=t.XpG(2);return t.Njj(n.removeWindowGrill(i))}),t.EFF(18,"Remove"),t.k0s()()}if(2&l){const r=d.$implicit;t.R7$(4),t.Y8G("ngModel",r.length),t.R7$(4),t.Y8G("ngModel",r.height),t.R7$(4),t.Y8G("ngModel",r.price),t.R7$(4),t.Y8G("ngModel",r.remarks)}}function B(l,d){if(1&l&&(t.j41(0,"div",26),t.DNE(1,E,19,4,"div",14),t.k0s()),2&l){const r=t.XpG();t.R7$(1),t.Y8G("ngForOf",r.currentDoor_Grill.windowGrills)}}function N(l,d){if(1&l){const r=t.RV6();t.j41(0,"div",15)(1,"div",9)(2,"label",10),t.EFF(3,"Length"),t.k0s(),t.j41(4,"input",31),t.bIt("ngModelChange",function(o){const n=t.eBV(r).$implicit;return t.Njj(n.length=o)})("input",function(o){const n=t.eBV(r).index,s=t.XpG(2);return t.Njj(s.calculateBalconyGrill(o,n))}),t.k0s()(),t.j41(5,"div",9)(6,"label",10),t.EFF(7,"Height"),t.k0s(),t.j41(8,"input",32),t.bIt("ngModelChange",function(o){const n=t.eBV(r).$implicit;return t.Njj(n.height=o)})("input",function(o){const n=t.eBV(r).index,s=t.XpG(2);return t.Njj(s.calculateBalconyGrill(o,n))}),t.k0s()(),t.j41(9,"div",9)(10,"label",10),t.EFF(11,"Price"),t.k0s(),t.j41(12,"input",29),t.bIt("ngModelChange",function(o){const n=t.eBV(r).$implicit;return t.Njj(n.price=o)}),t.k0s()(),t.j41(13,"div",9)(14,"label",10),t.EFF(15,"Remarks"),t.k0s(),t.j41(16,"input",23),t.bIt("ngModelChange",function(o){const n=t.eBV(r).$implicit;return t.Njj(n.remarks=o)}),t.k0s()(),t.j41(17,"button",24),t.bIt("click",function(){const i=t.eBV(r).index,n=t.XpG(2);return t.Njj(n.removeBalconyGrill(i))}),t.EFF(18,"Remove"),t.k0s()()}if(2&l){const r=d.$implicit;t.R7$(4),t.Y8G("ngModel",r.length),t.R7$(4),t.Y8G("ngModel",r.height),t.R7$(4),t.Y8G("ngModel",r.price),t.R7$(4),t.Y8G("ngModel",r.remarks)}}function R(l,d){if(1&l&&(t.j41(0,"div",30),t.DNE(1,N,19,4,"div",14),t.k0s()),2&l){const r=t.XpG();t.R7$(1),t.Y8G("ngForOf",r.currentDoor_Grill.balconyGrills)}}let S=(()=>{class l{constructor(r,e,o){this.route=r,this.doorgrillprovider=e,this.toaster=o,this.destroy$=new v.B,this.customerId=null,this.currentDoor_Grill=new u,this.showMainDoorSection=!0,this.showInternalDoorSection=!0,this.showWindowGrillSection=!0,this.showBalconyGrillSection=!0}ngOnInit(){this.extractCustomerId(),this.customerId?this.loadDoorGrillData(this.customerId):this.initializeDefaultEntries()}initializeDefaultEntries(){0===this.currentDoor_Grill.mainDoors.length&&this.currentDoor_Grill.mainDoors.push({length:0,height:0,numberOfDoors:0,surface:"1",price:0,remarks:""}),0===this.currentDoor_Grill.internalDoors.length&&this.currentDoor_Grill.internalDoors.push({length:0,height:0,numberOfDoors:0,surface:"1",price:0,remarks:""}),0===this.currentDoor_Grill.windowGrills.length&&this.currentDoor_Grill.windowGrills.push({length:0,height:0,price:0,remarks:""}),0===this.currentDoor_Grill.balconyGrills.length&&this.currentDoor_Grill.balconyGrills.push({length:0,height:0,price:0,remarks:""})}clearForm(){this.currentDoor_Grill=new u,this.initializeDefaultEntries(),this.showMainDoorSection=!0,this.showInternalDoorSection=!0,this.showWindowGrillSection=!0,this.showBalconyGrillSection=!0}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}extractCustomerId(){this.route.parent&&this.route.parent.paramMap.pipe((0,p.Q)(this.destroy$)).subscribe(r=>{const e=r.get("customerId");e&&(this.customerId=parseInt(e,10))}),this.route.paramMap.pipe((0,p.Q)(this.destroy$)).subscribe(r=>{const e=r.get("customerId");e&&(this.customerId=parseInt(e,10))}),this.currentDoor_Grill?.customerId&&(this.customerId=this.currentDoor_Grill.customerId)}loadDoorGrillData(r){this.doorgrillprovider.getDoor_GrillByCustomerId(r,{deleted:0}).subscribe(e=>{if(e&&e.length>0){const o=e[0];this.currentDoor_Grill=new u,this.currentDoor_Grill.door_GrillId=o.door_GrillId,this.currentDoor_Grill.customerId=o.customerId,this.currentDoor_Grill.sectionTotal=o.sectionTotal,(o.mainDoorLength||o.mainDoorHeight)&&(this.showMainDoorSection=!0,this.currentDoor_Grill.mainDoors=[{length:o.mainDoorLength||0,height:o.mainDoorHeight||0,numberOfDoors:o.mainDoorNumber_of_Doors||0,surface:o.mainDoorSurface||"1",price:o.mainDoorPrice||0,remarks:o.mainDoorRemarks||""}]),(o.internalDoorLength||o.internalDoorHeight)&&(this.showInternalDoorSection=!0,this.currentDoor_Grill.internalDoors=[{length:o.internalDoorLength||0,height:o.internalDoorHeight||0,numberOfDoors:o.internalDoorNumber_of_Doors||0,surface:o.internalDoorSurface||"1",price:o.internalDoorPrice||0,remarks:o.internalDoorRemarks||""}]),(o.window_GrillLength||o.window_GrillHeight)&&(this.showWindowGrillSection=!0,this.currentDoor_Grill.windowGrills=[{length:o.window_GrillLength||0,height:o.window_GrillHeight||0,price:o.window_GrillPrice||0,remarks:o.window_GrillRemarks||""}]),(o.balcony_GrillLength||o.balcony_GrillHeight)&&(this.showBalconyGrillSection=!0,this.currentDoor_Grill.balconyGrills=[{length:o.balcony_GrillLength||0,height:o.balcony_GrillHeight||0,price:o.balcony_GrillPrice||0,remarks:o.balcony_GrillRemarks||""}]),this.calculateTotal()}else this.currentDoor_Grill=new u,this.currentDoor_Grill.customerId=r},e=>{console.error("Error loading door grill data:",e),this.currentDoor_Grill=new u,this.currentDoor_Grill.customerId=r})}addMainDoor(){this.showMainDoorSection=!0,this.currentDoor_Grill.mainDoors.push({length:0,height:0,numberOfDoors:0,surface:"1",price:0,remarks:""}),this.calculateMainDoorPrice(this.currentDoor_Grill.mainDoors.length-1)}addInternalDoor(){this.showInternalDoorSection=!0,this.currentDoor_Grill.internalDoors.push({length:0,height:0,numberOfDoors:0,surface:"1",price:0,remarks:""}),this.calculateInternalDoorPrice(this.currentDoor_Grill.internalDoors.length-1)}addWindow(){this.showWindowGrillSection=!0,this.currentDoor_Grill.windowGrills.push({length:0,height:0,price:0,remarks:""})}addBalcony(){this.showBalconyGrillSection=!0,this.currentDoor_Grill.balconyGrills.push({length:0,height:0,price:0,remarks:""})}removeMainDoor(r){this.currentDoor_Grill.mainDoors.splice(r,1),this.calculateTotal()}removeInternalDoor(r){this.currentDoor_Grill.internalDoors.splice(r,1),this.calculateTotal()}removeWindowGrill(r){this.currentDoor_Grill.windowGrills.splice(r,1),this.calculateTotal()}removeBalconyGrill(r){this.currentDoor_Grill.balconyGrills.splice(r,1),this.calculateTotal()}calculateDoorPrice(r){return r.length*r.height*r.numberOfDoors*parseFloat(r.surface)*24}calculateMainDoorPrice(r){const e=this.currentDoor_Grill.mainDoors[r];e.price=e.length*e.height*e.numberOfDoors*parseFloat(e.surface)*24,this.calculateTotal()}calculateInternalDoorPrice(r){const e=this.currentDoor_Grill.internalDoors[r];e.price=e.length*e.height*e.numberOfDoors*parseFloat(e.surface)*24,this.calculateTotal()}calculateWindowGrill(r,e){const o=r.target,i=parseFloat(o.value)||0;o.classList.contains("window-length")?this.currentDoor_Grill.windowGrills[e].length=i:o.classList.contains("window-height")&&(this.currentDoor_Grill.windowGrills[e].height=i),this.currentDoor_Grill.windowGrills[e].price=this.calculateGrillPrice(this.currentDoor_Grill.windowGrills[e]),this.calculateTotal()}calculateBalconyGrill(r,e){const o=r.target,i=parseFloat(o.value)||0;o.classList.contains("balcony-length")?this.currentDoor_Grill.balconyGrills[e].length=i:o.classList.contains("balcony-height")&&(this.currentDoor_Grill.balconyGrills[e].height=i),this.currentDoor_Grill.balconyGrills[e].price=this.calculateGrillPrice(this.currentDoor_Grill.balconyGrills[e]),this.calculateTotal()}calculateGrillPrice(r){return r.length*r.height}calculateTotal(){let r=0;this.currentDoor_Grill.mainDoors.forEach(e=>r+=e.price),this.currentDoor_Grill.internalDoors.forEach(e=>r+=e.price),this.currentDoor_Grill.windowGrills.forEach(e=>r+=e.price),this.currentDoor_Grill.balconyGrills.forEach(e=>r+=e.price),this.currentDoor_Grill.sectionTotal=r}saveDoorGrill(){const r=localStorage.getItem("UserId");if(!r)return console.error("User ID not found in localStorage"),void this.toaster.error("User ID not found. Please try logging in again.");if(this.customerId){const e=this.currentDoor_Grill.mainDoors[0]||{length:0,height:0,numberOfDoors:0,surface:"1",price:0,remarks:""},o=this.currentDoor_Grill.internalDoors[0]||{length:0,height:0,numberOfDoors:0,surface:"1",price:0,remarks:""},i=this.currentDoor_Grill.windowGrills[0]||{length:0,height:0,price:0,remarks:""},n=this.currentDoor_Grill.balconyGrills[0]||{length:0,height:0,price:0,remarks:""},s={door_GrillId:this.currentDoor_Grill.door_GrillId,door_GrillTabId:this.currentDoor_Grill.door_GrillTabId,generatedId:this.currentDoor_Grill.generatedId,customerId:this.customerId,mainDoorLength:e.length,mainDoorHeight:e.height,mainDoorNumber_of_Doors:e.numberOfDoors,mainDoorSurface:e.surface,mainDoorPrice:e.price,mainDoorRemarks:e.remarks||"",internalDoorLength:o.length,internalDoorHeight:o.height,internalDoorNumber_of_Doors:o.numberOfDoors,internalDoorSurface:o.surface,internalDoorPrice:o.price,internalDoorRemarks:o.remarks||"",window_GrillLength:i.length,window_GrillHeight:i.height,window_GrillPrice:i.price,window_GrillRemarks:i.remarks||"",balcony_GrillLength:n.length,balcony_GrillHeight:n.height,balcony_GrillPrice:n.price,balcony_GrillRemarks:n.remarks||"",sectionTotal:this.currentDoor_Grill.sectionTotal,deleted:!1,createdBy:parseInt(r),createdOn:new Date,lastModifiedBy:parseInt(r),lastModifiedOn:new Date};this.doorgrillprovider.addDoor_Grill(s).subscribe(h=>{console.log("Door Grill saved successfully:",h)},h=>{console.error("Error saving Door Grill:",h)})}}updatePrice(r,e,o){const i=r.target,n=i.value;switch(o){case"mainDoor":const s=this.currentDoor_Grill.mainDoors[e];"Length"===i.placeholder?s.length=parseFloat(n)||0:"Height"===i.placeholder?s.height=parseFloat(n)||0:"Number of Doors"===i.placeholder?s.numberOfDoors=parseFloat(n)||0:"radio"===i.type&&(s.surface=n),this.calculateMainDoorPrice(e);break;case"internalDoor":const h=this.currentDoor_Grill.internalDoors[e];"Length"===i.placeholder?h.length=parseFloat(n)||0:"Height"===i.placeholder?h.height=parseFloat(n)||0:"Number of Doors"===i.placeholder?h.numberOfDoors=parseFloat(n)||0:"radio"===i.type&&(h.surface=n),this.calculateInternalDoorPrice(e);break;case"windowGrill":const C=this.currentDoor_Grill.windowGrills[e];i.classList.contains("window-length")?C.length=parseFloat(n)||0:i.classList.contains("window-height")&&(C.height=parseFloat(n)||0),C.price=this.calculateGrillPrice(C);break;case"balconyGrill":const b=this.currentDoor_Grill.balconyGrills[e];i.classList.contains("balcony-length")?b.length=parseFloat(n)||0:i.classList.contains("balcony-height")&&(b.height=parseFloat(n)||0),b.price=this.calculateGrillPrice(b)}this.calculateTotal()}static{this.\u0275fac=function(e){return new(e||l)(t.rXU(x.nX),t.rXU(I),t.rXU(w.tw))}}static{this.\u0275cmp=t.VBU({type:l,selectors:[["app-door-grills"]],inputs:{currentDoor_Grill:"currentDoor_Grill"},decls:35,vars:5,consts:[[1,"child-section"],[1,"section-title"],[1,"section-header"],[1,"section-subtitle"],["type","button",1,"add-btn",3,"click"],["id","mainDoorSection",4,"ngIf"],["id","internalDoorSection",4,"ngIf"],["id","windowGrillSection",4,"ngIf"],["id","balconyGrillSection",4,"ngIf"],[1,"field"],[1,"label-text"],["type","number","id","sectionTotal","placeholder","Total","readonly","",1,"form-input",3,"ngModel","ngModelChange"],["type","button",1,"save-btn","door_grillbtn",3,"click"],["id","mainDoorSection"],["class","field-container",4,"ngFor","ngForOf"],[1,"field-container"],["type","number","placeholder","Length",1,"form-input",3,"ngModel","ngModelChange","input"],["type","number","placeholder","Height",1,"form-input",3,"ngModel","ngModelChange","input"],["type","number","placeholder","Number of Doors",1,"form-input",3,"ngModel","ngModelChange","input"],[1,"checkbox-group"],["type","radio","value","1",3,"name","ngModel","ngModelChange","change"],["type","radio","value","2",3,"name","ngModel","ngModelChange","change"],["type","number","placeholder","Price","readonly","",1,"form-input","price-input",3,"value"],["type","text","placeholder","Remarks",1,"form-input",3,"ngModel","ngModelChange"],["type","button",1,"remove-btn",3,"click"],["id","internalDoorSection"],["id","windowGrillSection"],["type","number",1,"form-input","window-length",3,"ngModel","ngModelChange","input"],["type","number",1,"form-input","window-height",3,"ngModel","ngModelChange","input"],["type","number","readonly","",1,"form-input","price-input",3,"ngModel","ngModelChange"],["id","balconyGrillSection"],["type","number",1,"form-input","balcony-length",3,"ngModel","ngModelChange","input"],["type","number",1,"form-input","balcony-height",3,"ngModel","ngModelChange","input"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"div",1),t.EFF(2,"I. Doors & Grills"),t.k0s(),t.j41(3,"div",2)(4,"div",3),t.EFF(5,"Main Door"),t.k0s(),t.j41(6,"button",4),t.bIt("click",function(){return o.addMainDoor()}),t.EFF(7,"Add Door"),t.k0s()(),t.DNE(8,P,2,1,"div",5),t.j41(9,"div",2)(10,"div",3),t.EFF(11,"Internal Door"),t.k0s(),t.j41(12,"button",4),t.bIt("click",function(){return o.addInternalDoor()}),t.EFF(13,"Add Door"),t.k0s()(),t.DNE(14,O,2,1,"div",6),t.j41(15,"div",2)(16,"div",3),t.EFF(17,"Window Grill"),t.k0s(),t.j41(18,"button",4),t.bIt("click",function(){return o.addWindow()}),t.EFF(19,"Add Window"),t.k0s()(),t.DNE(20,B,2,1,"div",7),t.j41(21,"div",2)(22,"div",3),t.EFF(23,"Balcony Grill"),t.k0s(),t.j41(24,"button",4),t.bIt("click",function(){return o.addBalcony()}),t.EFF(25,"Add Balcony"),t.k0s()(),t.DNE(26,R,2,1,"div",8),t.j41(27,"div",1),t.EFF(28,"Total"),t.k0s(),t.j41(29,"div",9)(30,"label",10),t.EFF(31,"Section Total"),t.k0s(),t.j41(32,"input",11),t.bIt("ngModelChange",function(n){return o.currentDoor_Grill.sectionTotal=n}),t.k0s()(),t.j41(33,"button",12),t.bIt("click",function(){return o.saveDoorGrill()}),t.EFF(34,"Confirm"),t.k0s()()),2&e&&(t.R7$(8),t.Y8G("ngIf",o.showMainDoorSection),t.R7$(6),t.Y8G("ngIf",o.showInternalDoorSection),t.R7$(6),t.Y8G("ngIf",o.showWindowGrillSection),t.R7$(6),t.Y8G("ngIf",o.showBalconyGrillSection),t.R7$(6),t.Y8G("ngModel",o.currentDoor_Grill.sectionTotal))},dependencies:[k.Sq,k.bT,G.me,G.Q0,G.Fm,G.BC,G.vS],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}.child-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#b5ac9c 0%,#75ba9d 100%);border-radius:20px;padding:2rem;box-shadow:0 10px 30px #0000000d;max-width:2000px;margin:2rem auto}.section-title[_ngcontent-%COMP%]{font-size:1.8rem;color:#000;font-weight:600;position:relative;padding-left:1rem;margin-bottom:2rem}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.section-header.right-align[_ngcontent-%COMP%]{justify-content:flex-end}.section-title[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:50%;transform:translateY(-50%);width:4px;height:70%;background:#75ba9d;border-radius:2px}.section-subtitle[_ngcontent-%COMP%]{font-size:1.3rem;color:#101316;font-weight:500;margin-bottom:1rem}.field-container[_ngcontent-%COMP%]{display:flex;gap:1.5rem;margin-bottom:1.5rem;background:#f8f9fa;padding:1.5rem;border-radius:10px;position:relative}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;width:100%}.label-text[_ngcontent-%COMP%]{font-size:.9rem;color:#fffcfc;font-weight:500}.form-select[_ngcontent-%COMP%], .form-input[_ngcontent-%COMP%]{width:100%;padding:.8rem 1rem;border:2px solid rgba(181,172,156,.2);border-radius:10px;font-size:.95rem;transition:all .3s ease;background:white}.form-select[_ngcontent-%COMP%]:focus, .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#75ba9d;box-shadow:0 0 0 3px #75ba9d1a}.form-input[readonly][_ngcontent-%COMP%]{background-color:#f0f0f0;cursor:not-allowed}.add-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#75ba9d,#b5ac9c);border:none;padding:.8rem 1.5rem;border-radius:12px;display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;color:#fff;font-weight:500;cursor:pointer;gap:.5rem;transition:transform .2s,box-shadow .2s}.add-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #75ba9d4d}.remove-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:#fff;color:#dc3545;border:2px solid #dc3545;padding:.5rem 1rem;border:none;border-radius:5px;cursor:pointer;transition:all .3s ease;font-size:.85rem}.remove-btn[_ngcontent-%COMP%]:hover{background:#dc3545;color:#fff;transform:translateY(-2px);box-shadow:0 4px 8px #dc354533}.door_grillbtn[_ngcontent-%COMP%]{width:100px;height:50px;color:#000;border-radius:10%;background-color:#0e412c;cursor:pointer;margin-left:20px;margin-top:20px;margin-bottom:20px}.checkbox-group[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:.8rem 0}.checkbox-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#fff;cursor:pointer}.checkbox-group[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:16px;height:16px;cursor:pointer}#sectionTotal[_ngcontent-%COMP%]{background-color:#f8f9fa;font-weight:600;color:#2c3e50}@media (max-width: 768px){.child-section[_ngcontent-%COMP%]{padding:1rem;margin:1rem}.field-container[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.section-title[_ngcontent-%COMP%]{font-size:1.5rem}.section-subtitle[_ngcontent-%COMP%]{font-size:1.2rem}.add-btn[_ngcontent-%COMP%]{width:100%}.remove-btn[_ngcontent-%COMP%]{position:static;width:100%;margin-top:1rem}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.field-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}']})}}return l})()}}]);